{% extends 'base.html' %}
{% load static %}

{% block content %}
<div class="container" style="padding: 50px 0;">
    <h1 style="text-align: center; margin-bottom: 50px;">User Profile</h1>

    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 40px;">

        <!-- Profile Card -->
        <div class="glass-panel" style="padding: 40px; text-align: center;">
            <div
                style="width: 100px; height: 100px; background: linear-gradient(45deg, var(--primary-color), var(--secondary-color)); border-radius: 50%; margin: 0 auto 20px; display: flex; align-items: center; justify-content: center; font-size: 3rem; color: #fff;">
                <i class="fas fa-user"></i>
            </div>
            <h2 style="margin-bottom: 10px;">Alex Doe</h2>
            <p style="color: #aaa;">Premium Member</p>
            <div style="margin-top: 20px; padding: 15px; background: rgba(255,255,255,0.05); border-radius: 10px;">
                <p style="margin: 0; color: #ccc;">Account ID: <span style="color: #fff;">EN-8492</span></p>
                <p style="margin: 5px 0 0; color: #ccc;">Joined: <span style="color: #fff;">Jan 2026</span></p>
            </div>
        </div>

        <!-- Real-time Devices Section -->
        <div class="glass-panel" style="padding: 30px;">
            <h3 style="border-bottom: 1px solid rgba(255,255,255,0.1); padding-bottom: 15px; margin-bottom: 20px;">
                <i class="fas fa-mobile-alt" style="color: var(--primary-color); margin-right: 10px;"></i> Connected
                Devices
            </h3>

            <div style="display: flex; flex-direction: column; gap: 20px;">
                <!-- Device 1 -->
                <div
                    style="background: rgba(255,255,255,0.05); padding: 20px; border-radius: 12px; position: relative; overflow: hidden;">
                    <div
                        style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
                        <div>
                            <h4 style="margin: 0 0 5px;">iPhone 15 Pro Case</h4>
                            <span style="font-size: 0.8rem; color: #28a745;"><i class="fas fa-bolt"></i> Fast
                                Charging</span>
                        </div>
                        <span style="font-size: 1.2rem; font-weight: bold;">82%</span>
                    </div>
                    <!-- Animated Battery Bar -->
                    <div
                        style="width: 100%; height: 8px; background: rgba(255,255,255,0.1); border-radius: 4px; overflow: hidden;">
                        <div class="battery-bar-anim"
                            style="width: 82%; height: 100%; background: linear-gradient(90deg, #28a745, #00e5ff);">
                        </div>
                    </div>
                    <div
                        style="display: flex; justify-content: space-between; margin-top: 10px; font-size: 0.8rem; color: #aaa;">
                        <span>Input: <span style="color: #fff;">12.5W</span> (Solar + Piezo)</span>
                        <span>Time to full: 25m</span>
                    </div>
                </div>

                <!-- Device 2 -->
                <div
                    style="background: rgba(255,255,255,0.02); padding: 20px; border-radius: 12px; display: flex; justify-content: space-between; align-items: center; opacity: 0.7;">
                    <div>
                        <h4 style="margin: 0 0 5px;">Samsung S24 Ultra Case</h4>
                        <span style="font-size: 0.8rem; color: #aaa;">â—‹ Standby</span>
                    </div>
                    <span style="font-size: 1.2rem; color: #777;">45%</span>
                </div>

                <button class="btn btn-outline" style="width: 100%; margin-top: 10px; border-style: dashed;">
                    <i class="fas fa-plus"></i> Add New Device
                </button>
            </div>
        </div>

        <!-- Notification Center -->
        <div class="glass-panel" style="padding: 30px;">
            <h3 style="border-bottom: 1px solid rgba(255,255,255,0.1); padding-bottom: 15px; margin-bottom: 20px;">
                <i class="fas fa-bell" style="color: #ffc107; margin-right: 10px;"></i> Notification Center
            </h3>

            <h5 style="color: #ccc; margin-bottom: 15px;">Preferences</h5>
            <div style="display: flex; flex-direction: column; gap: 10px; margin-bottom: 30px;">
                <label style="display: flex; justify-content: space-between; align-items: center; cursor: pointer;">
                    <span><i class="fas fa-bolt" style="width: 20px; color: #00e5ff;"></i> Energy Spikes</span>
                    <input type="checkbox" checked>
                </label>
                <label style="display: flex; justify-content: space-between; align-items: center; cursor: pointer;">
                    <span><i class="fas fa-battery-quarter" style="width: 20px; color: #ff0055;"></i> Low Battery</span>
                    <input type="checkbox" checked>
                </label>
                <label style="display: flex; justify-content: space-between; align-items: center; cursor: pointer;">
                    <span><i class="fas fa-leaf" style="width: 20px; color: #28a745;"></i> Eco Analysis</span>
                    <input type="checkbox">
                </label>
            </div>

            <h5 style="color: #ccc; margin-bottom: 15px;">Recent History</h5>
            <div style="max-height: 200px; overflow-y: auto; display: flex; flex-direction: column; gap: 10px;">
                <div style="padding: 10px; background: rgba(255,255,255,0.05); border-radius: 8px; font-size: 0.9rem;">
                    <div style="display: flex; justify-content: space-between; margin-bottom: 5px;">
                        <span style="color: #ffc107;">Unstable Input</span>
                        <span style="color: #666; font-size: 0.7rem;">2m ago</span>
                    </div>
                    <p style="margin: 0; color: #aaa; font-size: 0.8rem;">Solar input dropped rapidly due to shadow.</p>
                </div>
                <div style="padding: 10px; background: rgba(255,255,255,0.05); border-radius: 8px; font-size: 0.9rem;">
                    <div style="display: flex; justify-content: space-between; margin-bottom: 5px;">
                        <span style="color: #28a745;">Goal Reached</span>
                        <span style="color: #666; font-size: 0.7rem;">5h ago</span>
                    </div>
                    <p style="margin: 0; color: #aaa; font-size: 0.8rem;">Daily CO2 reduction target met!</p>
                </div>
            </div>
        </div>

        <!-- Charging History -->
        <div class="glass-panel" style="grid-column: 1 / -1; padding: 30px;">
            <!-- ... (Existing History Table) ... -->
            <h3 style="border-bottom: 1px solid rgba(255,255,255,0.1); padding-bottom: 15px; margin-bottom: 20px;">
                <i class="fas fa-history" style="color: var(--secondary-color); margin-right: 10px;"></i> Recent
                Sessions
            </h3>

            <table style="width: 100%; border-collapse: collapse; color: #ccc;">
                <thead>
                    <tr style="text-align: left; border-bottom: 1px solid rgba(255,255,255,0.1);">
                        <th style="padding: 10px;">Date</th>
                        <th style="padding: 10px;">Source Mix</th>
                        <th style="padding: 10px;">Duration</th>
                        <th style="padding: 10px;">Energy Saved</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td style="padding: 15px 10px;">Today, 10:30 AM</td>
                        <td style="padding: 15px 10px;"><i class="fas fa-solar-panel" style="color: #ffeb3b;"></i> Solar
                            + <i class="fas fa-running" style="color: #ff0055;"></i> Piezo</td>
                        <td style="padding: 15px 10px;">45 mins</td>
                        <td style="padding: 15px 10px; color: var(--success-color);">120 mAh</td>
                    </tr>
                    <tr>
                        <td style="padding: 15px 10px;">Yesterday, 2:15 PM</td>
                        <td style="padding: 15px 10px;"><i class="fas fa-solar-panel" style="color: #ffeb3b;"></i> Solar
                            Only</td>
                        <td style="padding: 15px 10px;">1h 20m</td>
                        <td style="padding: 15px 10px; color: var(--success-color);">350 mAh</td>
                    </tr>
                    <tr>
                        <td style="padding: 15px 10px;">Jan 28, 8:00 PM</td>
                        <td style="padding: 15px 10px;"><i class="fas fa-volume-up" style="color: #00e5ff;"></i>
                            Acoustic (Concert)</td>
                        <td style="padding: 15px 10px;">2h 00m</td>
                        <td style="padding: 15px 10px; color: var(--success-color);">180 mAh</td>
                    </tr>
                </tbody>
            </table>
        </div>

    </div>
</div>

<style>
    @keyframes pulse-bar {
        0% {
            opacity: 0.8;
            box-shadow: 0 0 5px rgba(40, 167, 69, 0.5);
        }

        50% {
            opacity: 1;
            box-shadow: 0 0 15px rgba(40, 167, 69, 0.8);
        }

        100% {
            opacity: 0.8;
            box-shadow: 0 0 5px rgba(40, 167, 69, 0.5);
        }
    }

    .battery-bar-anim {
        animation: pulse-bar 2s infinite ease-in-out;
    }
</style>
{% endblock %}